const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["component-ShopPayWrapper.DhpIYdx9.js","app.eeJKwMD1.js","assets/app.Cb38QAdM.css","monorail.aK9LP7wp.js"])))=>i.map(i=>d[i]);
import{ha as an,hb as on,_ as rn,T as U,a as e,jQ as ln,eu as cn,jR as dn,y as un,af as Q,d as H,w as R,G as te,eE as pn,jS as hn,fX as mn,js as gn,dm as yn,h as ye,i_ as fn,H as Ae,jv as Le,K as ie,aJ as O,ja as Sn,B as S,aB as _,X as u,a5 as Be,bt as vn,aQ as Ee,I as Pn,jT as Cn,a2 as se,g7 as L,g2 as Ge,jJ as Ye,bw as bn,jU as kn,fR as Mn,hn as Ie,ay as z,fd as ae,fa as g,jV as _n,aw as b,aA as k,jW as An,jX as En,ge as Dn,aE as Re,g3 as Ue,jY as wn,jZ as xn,j_ as In,f4 as Rn,J as fe,ei as We,aj as Tn,aF as Vn,j6 as On,j$ as Ln,dT as he,az as Bn,k0 as Nn,z as Fn,k1 as Hn,cu as zn,gM as jn,ap as qe,cw as Gn,cz as Yn,a9 as me,k2 as Un,cA as Wn,cB as qn,cx as Je,cy as Jn,W as De,gQ as $n,k3 as Kn,k4 as Qn,cJ as Xn,cI as Zn,cK as Ne,k5 as es,k6 as ns,aY as ss,cL as ts,gS as is,gT as as,gR as $e,g_ as os,dv as Se,k7 as rs,ch as ls,cf as cs,k8 as ve,k9 as Ke,ka as ds,by as us,Y as ps,ea as hs,i as ms,a8 as gs,kb as ys,gk as fs,be as Ss,j as vs,kc as Ps,kd as Cs,fs as we,gX as bs,ke as ks,f8 as Ms,aL as _s,dG as As,h_ as Es,S as ne,fG as Ds,kf as ws,cE as xs,fE as pe,cG as Y,cF as ge,fF as Is,gl as Rs,fA as Ts,cQ as Vs,fV as Os,kg as Ls,d7 as Bs,kh as _e,a4 as Ns,gg as Fs,ki as Hs,jr as zs,kj as js}from"./app.eeJKwMD1.js";import{D as Gs,S as Ys,u as Us,E as Ws,a as qs,P as Js}from"./DeliveryMethodSelectorSection.CvdYCfCO.js";import{R as Qe,u as $s,L as Ks}from"./LocalizationExtensionField.Br7OrPeg.js";import{R as Qs,P as Xs}from"./PayButtonSection.C3wgMnIO.js";import Zs from"./component-ShopPayVerificationSwitch.DMPHPrH3.js";import"./useEditorShopPayNavigation.B1cC6Z-y.js";import"./VaultedPayment.ICzGVa7s.js";import"./RememberMeDescriptionText.C-zLbVSU.js";import"./useSubscribeMessenger.9e0j9VkX.js";import"./index.CtqHxpP0.js";const et=an({load:()=>on(()=>rn(()=>import("./component-ShopPayWrapper.DhpIYdx9.js"),__vite__mapDeps([0,1,2,3])))});function nt({filteredAvailableDeliveryAddresses:n,selectedAddressId:t,handleChange:a}){const i=U(()=>n?new Map(n.map(o=>[o.id,o.address])):new Map,[n]),s=U(()=>new Map,[]);return e(cn.Provider,{value:!0,children:e(ln,{id:"modal_shipping_address",addressType:"shipping",selectedId:t,onChange:a,choices:s,ephemeralAddressChoices:i})})}function st({shippingAddress:n}){const{nameLine:t,primary:a,secondary:i}=dn({address:n}),s=`${t}, ${a}`;return e(H,{padding:"large100",background:"subdued",borderRadius:"base",children:e(un,{appearance:"accent",children:[e(Q,{emphasis:"bold",children:s}),e(Q,{children:i})]})})}function tt(){const n=R(),t=te(),a=t.mustSelectProvidedAddress.value,i=t.availableDeliveryAddresses.value,[s]=pn(),{setSelectedAddress:o,selectedAddress:c}=hn(),d=mn(),P=d?gn(d):!1,{record:p}=yn(),{name:r}=ye(),[h]=fn(),[m,y]=Ae(c?.id),l=U(()=>a?i:i?.filter(f=>!s.find(I=>Le(I.address,f.address))),[s,i,a]),A=U(()=>s?.some(f=>c?Le(f.address,c.address):!1),[c,s]),C=l?.length===0,v=i&&i.length>=1&&!C&&!A,D=s?.length>=1,E=!!(!a&&v&&D&&!P),[M,j]=Ae(E);ie(()=>{M&&p({schemaId:"shopify_pay_payment_page_ui_impression/2.0",payload:{elementText:l?.length===1?"single_address":"multiple_addresses",elementType:"shop_pay_merchant_set_address_modal",shopAccountUuid:h}})},[M]);const w=O(f=>{p({schemaId:"shopify_pay_payment_page_ui_interaction/1.1",payload:{action:f}})},[p]),x=O(()=>{w("shop_pay_proposed_address_modal_continue");const f=l?.find(I=>I.id===m);o(f,"shipping_address"),j(!1)},[l,m,o,w]),B=O(()=>{w("shop_pay_proposed_address_modal_use_saved_address");const f=Sn(s);f&&o(f,"shipping_address"),j(!1)},[o,s,w]),W=U(()=>l?new Map(l.map(f=>[f.id,f])):new Map,[l]),T=O(f=>{const I=W.get(f);y(I.id)},[W,y]),X=l?.length===1?e(st,{shippingAddress:l[0].address}):e(nt,{filteredAvailableDeliveryAddresses:l,selectedAddressId:m,handleChange:T});return e(vn,{size:"large",open:M,padding:!0,title:n("shop_pay.review_address_modal.title","Review address"),onClose:x,children:[e(S,{children:n("shop_pay.review_address_modal.subtitle",{count:l?.length||0,merchant:r},{one:"This order will be shipped to the address provided by %{merchant}.",other:"This order will be shipped to an address provided by %{merchant}. Select a shipping address."})}),e(_,{spacing:"base"}),X,e(_,{spacing:"large200"}),e(u,{spacing:"small400",children:[e(Be,{kind:"primary",inlineSize:"fill",onPress:x,children:n("shop_pay.review_address_modal.continue","Continue with this address")}),e(Be,{kind:"secondary",inlineSize:"fill",onPress:B,children:n("shop_pay.review_address_modal.use_saved_address","Change address")})]})]})}const it={title:"Shop",style:{fill:"var(--x-default-color-icon)",width:44,height:17}};function at(){const t=R()("shop_pay_remember_me.secure_label","Secure and encrypted");return e(Ee,{columns:["fill","auto"],children:[e(Ee,{columns:["auto","fill"],spacing:"small400",blockAlignment:"center",children:[e(Pn,{size:"extraSmall",source:"lock"}),e(Q,{appearance:"subdued",size:"small",children:t})]}),e(H,{children:e(Cn,{...it})})]})}function ot(){const n=R();return e(u,{spacing:"none",children:[e(_,{spacing:"small100"}),e(se,{level:2,children:n("shop_pay_remember_me.title","Remember me")}),e(_,{}),e(L,{sectionId:"rememberMe",children:e(Qe,{})}),e(_,{spacing:"small100"}),e(at,{})]})}function rt(){const{acceptTipPayments:n}=ye(),t=Ge(),{shopifyInstallments:a}=Ye();bn();const i=kn(),s=Mn(),o=Ie(),{Tips:c,PurchaseOrderNumberField:d,GiftCardRedemption:P,StoreCreditRedemption:p,Installments:r,PaymentMethodSelector:h}=z(),{isOrderEditCheckout:m}=ae(),y=o?.tippingPaymentAllowed??!0,l=!m&&n&&y,A=g({shopPay:l&&!a(),default:l}),C=_n({showTips:A,billingFormPosition:i}),v=b("purchase.checkout.payment-method-list.render-before"),D=b("purchase.checkout.payment-method-list.render-after");return e(Re,{target:"cart.paymentLines[0]",children:e(u,{children:[e(lt,{}),e(k,{extensions:v}),e(An,{}),e(p,{}),e(r,{}),e(u,{spacing:"large400",children:[e(En,{dynamicPaymentExtensions:C.shift()||[],children:[e(h,{}),e(k,{extensions:D}),e(k,{extensions:C.shift()||[]}),e(P,{})]}),s&&e(Dn,{}),e(d,{showHeading:!1})]}),A&&e(S,{children:[e(L,{sectionId:"tips",children:e(c,{})}),e(k,{extensions:C.shift()||[]})]}),t&&e(ot,{}),e(k,{extensions:C.flat()})]})})}function lt(){const n=R(),a=Ue()?`${n("payment.billing_must_match_shipping_notice","Your payment methodâ€™s billing address must match the shipping address.")} `:"",i=n("payment.card_security_notice","All transactions are secure and encrypted.");return e(u,{spacing:"small400",children:[e(se,{level:1,children:n("payment.title","Payment")}),e(Q,{appearance:"subdued",children:a+i})]})}function ct(){const n=R(),{availableDeliveryMethodsLoading:t,progressiveShippingRatesLoading:a}=xn(),i=t&&!a,{selectedDeliveryMethod:s}=In({onChange:()=>{},prerequisitesLoading:t||i}),o=s?n("order_summary.updated_shipping_method",{shipping_method:s.title},"Updated shipping method: %{shipping_method}"):void 0;return ie(()=>{if(o)return Rn({content:o})},[o]),null}function dt(){return wn("ONE_TIME_PURCHASE")?e(ct,{}):null}function ut(){const{negotiate:n}=fe(),t=We(),a=te(),i=a.shippingAddress.value,s=a.billingAddress.value,o=Tn(),{value:c=[]}=Vn(),d=On(c),P=Ln(c),{shippingRequired:p}=he(),r=p?i.countryCode:s.countryCode,h=t?.value?.countryCode,m=JSON.stringify(t?.value,(y,l)=>l===void 0?null:l);ie(()=>{d||P||h&&r!==h&&(o.counter({name:"country_code_mismatch",value:1}),o.log("[EnsureBackAndFrontEndCountryCodeAlignment] There was a mismatch between the preselected and the buyerIdentity countryCode on checkout load.",{selectedCountryCode:r,buyerIdentityCountryCode:h,buyerIdentity:m}),n({silenceViolations:["all"],progression:!1}))},[])}function pt({showSmsMarketingOptIn:n=!1}){const t=b("Checkout::Contact::RenderAfter"),a=b("Checkout::Dynamic::Render","INFORMATION1"),i=b("Checkout::Dynamic::Render","INFORMATION2"),{ContactForm:s}=z();return e(S,{children:[a.length?e(S,{children:[e(k,{extensions:a,spacing:"base"}),e(_,{spacing:"large300"})]}):null,e(Bn,{impressionType:"contact",impressionFeatures:[],children:[e(s,{showSmsMarketingOptIn:n}),t.length?e(S,{children:[e(_,{}),e(k,{extensions:t})]}):null,i.length?e(S,{children:[e(_,{spacing:"large300"}),e(k,{extensions:i,spacing:"large200"})]}):null]})]})}function ht(){const n=R(),{setSelectedAddress:t,addresses:a}=Nn("shipping"),i=O(()=>{a.length>0&&t(a[0])},[a,t]);return a.length>0?e(Ee,{inlineAlignment:"start",children:e(Fn,{id:"save_shipping_information",textDecoration:"none",onPress:i,children:n("customer_account.saved_address_option_link","Use a saved address")})}):null}function mt({showSmsMarketingOptIn:n=!1}){return Hn(),e(u,{spacing:"large300",children:[e(Gs,{}),e(gt,{showSmsMarketingOptIn:n})]})}const Fe=n=>e(De,{children:n});function gt({showSmsMarketingOptIn:n}){const t=zn(),{method:a}=jn(),i=R(),{activeWalletSessionSignal:s}=qe(),{value:o}=Gn(),c=Yn(),d=me(Un),P=b("Checkout::DeliveryAddress::RenderBefore"),p=b("purchase.checkout.delivery-address.render-after"),{hasMultipleDeliveryGroups:r,onlyDeliveryGroupType:h}=Wn(),{extensionsBefore:m,extensionsAfter:y}=qn({hasMultipleDeliveryGroups:r,targeted:!1}),l=Je(),A=Jn(),{negotiate:C}=fe(),v=O(({shipping:M})=>{s.peek()||C({include:["shippingAddress"],fieldsToResolve:["deliveryNext"],silenceViolations:["non-delivery-address"],runListenersOnError:!0}),M.value=!0,l("sectionComplete",{section:"deliveryAddress",timestamp:new Date}),A({type:"section_complete",section:"deliveryAddress"})},[s,C,l,A]),D=O(({shipping:M})=>{M.value=!1},[]),E=n?e($e,{}):null;switch(a){case"PICKUP_POINT":return e(S,{children:[e(L,{sectionId:"pickupPoints",children:e(as,{})}),E]});case"PICK_UP":return e(S,{children:[e(L,{sectionId:"localPickup",children:e(is,{})}),E]});default:return e(L,{sectionId:"shipping",children:[e(De,{accessibilityLabel:i("delivery_options.shipping_address","Shipping address"),children:e(u,{spacing:"base",children:[e(k,{extensions:P}),e(u,{spacing:"large300",children:[e($n,{children:e(Kn,{onValid:v,onInvalid:D,children:e(Qn,{children:[e(ht,{}),e(Ys,{}),E]})})}),e(k,{extensions:p}),e(u,{spacing:c?"small400":"base",children:[e(se,{level:d?1:2,children:i("shipping.shipping_method_title","Shipping method")}),e(Xn,{children:[Zn("shipping.shipping_method_notice",t)?e(Q,{children:i("shipping.shipping_method_notice"," ")}):null,e(k,{extensions:m,options:{groupType:h&&Ne(h),includeDeliverySelectionGroups:!1},render:Fe}),e(es,{children:[e(ns,{}),e(ss.Preload,{})]}),e(k,{extensions:y,options:{groupType:h&&Ne(h),includeDeliverySelectionGroups:!1},render:Fe})]})]})]})]})}),o?.refuseDutiesPermitted&&e(De,{accessibilityLabel:i("shipping.duties_and_taxes_title","Duties and taxes"),children:e(u,{spacing:"base",children:[e(se,{level:2,children:i("shipping.duties_and_taxes_title","Duties and taxes")}),e(ts,{})]})})]})}}function yt({showSmsMarketingOptIn:n=!1}){const t=R(),a=Ue(),{NoticeBanners:i,DeliveryHeading:s}=z(),o=b("Checkout::Dynamic::Render","DELIVERY1");return e(Se,{children:e(u,{children:[e(u,{spacing:"small400",children:[e(s,{}),a&&e(Q,{appearance:"subdued",children:t("shipping.shipping_used_as_billing_notice","This will also be used as your billing address for this order.")})]}),e(i,{section:"delivery"}),e(os,{children:e(mt,{showSmsMarketingOptIn:n})}),e(k,{extensions:o})]})})}function ft(){const n=te(),t=n.email.value,a=n.phone.value,i=R(),{isOrderEditCheckout:s}=ae(),o=rs(),[c,d]=Ae(!1),P=g({customerAccount:t&&typeof t=="string"&&o,default:!1}),{VaultedContact:p}=z(),r=g({businessCustomer:!1,shopPay:!1,default:!0}),h=P&&e(Zs,{email:t,open:c,showPopover:m=>{d(m)}});if(s&&r){const m=t||a;return e(S,{children:[e(ls,{id:"contact",label:i("contact.contact_method_title","Contact"),summary:m?e("p",{children:m}):e(cs,{})}),h]})}return e(S,{children:[e(p,{emailAddress:t}),h]})}const St="ILN3z",ue={DivideChildren:St,"DivideChildren--no-initial-divider":"TiyE2","DivideChildren--no-final-divider":"wyrwY","DivideChildren--final-mobile-divider":"_8S1mj"};function He({hideLastDivider:n}){const t=ve(),{negotiate:a}=fe(),{isOrderEditCheckout:i}=ae(),{shippingRequired:s}=he(),{shippingRequired:o}=he(),c=i&&o,{VaultedPayment:d,ReviewNotice:P,VaultedDelivery:p,VaultedBillingAddress:r,VaultedCashRedemption:h}=z(),m=Ke(),y=ds(),l=g({guest:!0,default:!1}),A=g({businessCustomer:t.payment,guest:!0,default:!1}),C=g({amazonPay:!0,buyWithPrime:!0,payPal:!0,googlePay:!0,shopPay:!0,default:!1}),v=g({businessCustomer:!0,default:!1}),D=t.delivery&&(s||c&&i),E=g({businessCustomer:!s,default:!1}),M=[...t.contact?[e(ft,{},"contact")]:[],...D?[e(p,{},"delivery")]:[],...w()];if(ie(()=>{M.length>0&&a({silenceViolations:["all"]})},[]),M.length===0)return null;return e(H,{...{},children:[y?e(Qs,{}):null,y&&C?e(us,{below:"large",children:e(_,{})}):null,m&&e(P,{}),e("div",{className:ps({[ue.DivideChildren]:!0,[ue["DivideChildren--no-final-divider"]]:n||A===!0,[ue["DivideChildren--no-initial-divider"]]:l,[ue["DivideChildren--final-mobile-divider"]]:v}),children:M})]});function w(){if(i)return t.payment?[e(d,{},"payment")]:[];const x=[];return E&&x.push(e(r,{},"businessCustomerBilling")),t.payment&&(x.push(e(d,{},"payment")),x.push(e(h,{},"cashRedemption")),t.billing&&!E&&x.push(e(r,{},"billingAddress"))),x}}function vt({includeContactAfterExtensions:n}={includeContactAfterExtensions:!1}){const t=ve(),a=b("Checkout::Contact::RenderAfter"),i=b("Checkout::Dynamic::Render","INFORMATION1"),s=b("Checkout::Dynamic::Render","INFORMATION2"),o=b("Checkout::Dynamic::Render","DELIVERY1"),c=b("Checkout::Dynamic::Render","DELIVERY2"),d=b("Checkout::Dynamic::Render","PAYMENT1"),P=b("Checkout::Dynamic::Render","PAYMENT2"),p=b("Checkout::Dynamic::Render","PAYMENT3");return U(()=>{let r=[];return t.contact&&(r=[...n?a:[],...i,...s]),t.delivery&&(r=[...r,...o,...c]),t.payment&&(r=[...r,...d,...P,...p]),r},[t,n,a,i,s,o,c,d,P,p])}function It({children:n}){const t=g({shopPay:!0,default:!1}),a=hs("simulated"),{searchParams:i}=ms(),s=a&&!!i.get("shop_pay_sim");return s||t?e(et,{simulated:s,children:[n,e(ze,{})]}):e(S,{children:[n,e(ze,{})]})}function ze(){const n=gs(),t=te().email.value,{progress:a}=fe(),{shippingRequired:i}=he(),s=ve(),[o]=ys(),{postPurchaseEnabled:c}=fs(),d=R(),P=Ss(),p=vs(),{isOrderEditCheckout:r}=ae(),{emailMarketing:h,smsMarketing:m}=ye(),y=Ps(),l=Je(),A=Ke(),C=h!=="OFF",v=Cs(),D=Ge(),E=Ie(),{value:M}=We(),j=me(Hs),w=y.hasViolation&&y.lineItems.length>0;ut(),ie(()=>{w&&l("inventoryPriceChange",{element:{tagName:"modal"},timestamp:new Date,visible:!0})},[w,l]);const x=O(()=>{y.updateProposal()},[y]),B=we({base:!0,medium:!1}),W=we({base:!1,small:!0}),T=bs(),X=g({guest:T,customerAccount:T,sdkCartHints:T,externalVault:T,default:!1}),f=b("Checkout::Contact::RenderAfter"),I=g({shopPay:P&&!!(B&&!W),default:!1}),oe=g({shopPay:C,default:C&&s.contact}),re=g({shopPay:tt,default:S}),le=j&&!ks(M?.countryCode),ce=g({businessCustomer:!1,sdkCartHints:!!(C&&s.contact&&t),default:oe&&!le&&!r}),G=g({shopPay:"belowPayment",default:s.payment?"belowPayment":"abovePayment"});let V=g({shopPay:!1,businessCustomer:!1,default:m!=="OFF"});E&&!E.smsMarketingEnabled&&(V=!1);const q=i&&!s.delivery?"delivery":s.contact?"root":"contact",de=ce&&G==="belowPayment",Pe=ce&&G==="abovePayment",Z=de&&(B??!1),ee=!r&&Pe&&!p?.acceptsEmailMarketing,J=!r&&V&&q==="root"&&!p?.acceptsSmsMarketing,Ce=g({shopPay:S,sdkCartHints:S,default:Se}),$=g({guest:s.delivery,businessCustomer:!s.delivery&&s.payment,default:!1}),be=g({guest:$&&!(s.contact&&s.payment),businessCustomer:$,default:!1}),K=s.contact&&!(s.delivery&&s.payment)&&f.length>0&&(ee||J||B)?f:void 0,{PriceChangeModal:Me,SignUpContact:Xe}=z(),{reset:Ze}=Ms(),{walletPaymentMethods:en}=qe(),nn=Us(en),sn=me(zs);_s(Oe=>{Oe.type==="success"&&Oe.nextPage?.id==="review"&&Ze()});const{main:{section:tn}}=As(),F=Es(tn);return e(S,{children:[e(u,{spacing:ne.default("none").when({viewportInlineSize:{min:"extraSmall"}},"large200"),children:[r?e(u,{padding:ne.default(["large200","large200","none","large200"]).when({viewportInlineSize:{min:"extraSmall"}},"none"),children:e(Ds,{})}):null,e(ws,{section:"top"}),e(xs,{onSubmit:()=>a(void 0,{skipToCompletion:A}),children:[e("div",{ref:nn,children:e(pe,{hideDivider:s.payment&&!Z,condition:!F,children:[X&&e(S,{children:[e(pe,{condition:F,hideDivider:!0,padding:I?["none","large200","large200","large200"]:void 0,children:e(u,{spacing:"none",children:e(L,{sectionId:"expressCheckout",children:e(Y,{section:"expressCheckout",children:e(Ws,{})})})})}),e(qs,{})]}),e(pe,{condition:F,padding:!X&&I?["none","large200","large200","large200"]:void 0,children:e(u,{spacing:"none",children:[!s.contact&&e(ge,{section:"contact",children:e(Y,{section:"contact",children:e(pt,{showSmsMarketingOptIn:!r&&V&&q==="contact"})})}),!$&&e(He,{hideLastDivider:F}),v&&D&&e(S,{children:[e(_,{spacing:"small100"}),e(Qe,{})]}),!F&&e(Y,{section:"contact",children:e(xe,{renderAsVaulted:!0,showMarketingDisclosure:ee||Z,showSmsMarketingOptIn:J&&G!=="belowPayment",afterContactExtensions:K})})]})})]})}),e(Xe,{}),F&&e(Y,{section:"contact",children:e(xe,{showMarketingDisclosure:ee,showSmsMarketingOptIn:J&&G!=="belowPayment",afterContactExtensions:K})}),be&&i&&e(Is,{condition:$,accessibilityLabel:d("shipping.delivery_title","Delivery"),children:e(He,{hideLastDivider:F})}),!s.delivery&&i&&e(Re,{target:"cart.deliveryGroups[0].deliveryAddress",children:e(ge,{section:"delivery",children:e(Y,{section:"delivery",children:e(L,{sectionId:"delivery",children:e(yt,{showSmsMarketingOptIn:!r&&V&&q==="delivery"})})})})}),n&&e(Pt,{showVaultedStateMarketingDisclosureBelowPayment:de,showVaultedStateMarketingDisclosureOnMobile:Z,showPartialVaultedStateSmsMarketingOptIn:J&&G==="belowPayment",isSectionCustomized:F,VaultedStateMarketingDisclosureWrapper:Ce,includeContactAfterExtensions:K===void 0})]},o),c&&e(Rs,{})]}),w&&e(Me,{loading:y.loading,lineItems:y.lineItems,onClose:x}),i&&e(dt,{}),sn&&e(re,{}),e(Js,{id:"OnePage"})]})}function Pt({showVaultedStateMarketingDisclosureBelowPayment:n,showVaultedStateMarketingDisclosureOnMobile:t,isSectionCustomized:a,VaultedStateMarketingDisclosureWrapper:i,showPartialVaultedStateSmsMarketingOptIn:s,includeContactAfterExtensions:o}){const c=R(),d=ve(),P=Ts(),p=$s(),{merchantPolicies:r,acceptTipPayments:h}=ye(),{currentDetour:m}=Vs(),y=me(js),l=Os(),A=g({shopPay:!d.payment,default:!1}),{isOrderEditCheckout:C}=ae(),v=we({base:!0,medium:!1}),D=te().localizationExtensions.value,E=D.length>0,M=ne.default("block").when({viewportInlineSize:{min:"medium"}},"none"),j=ne.default("none").when({viewportInlineSize:{min:"medium"}},"block"),w=ne.default("none").when({viewportInlineSize:{min:"small"}},"block"),{shopifyInstallments:x}=Ye(),{setChatHideTriggerNode:B}=Ls(),W=O(N=>{B(v&&N?N:null)},[v,B]),T=n&&!v,f=Ie()?.tippingPaymentAllowed??!0,I=d.payment&&h&&f,oe=g({shopPay:I&&!x(),default:I}),re=Bs().isPartner(),le=r?.find(N=>N.handle==="subscription-policy"),ce=le!=null,G=U(()=>y&&m?.type==="thankYou"?"Checkout::ThankYou::Dynamic::Render":"Checkout::Dynamic::Render",[m?.type,y]),Te=b(G,"ORDER_SUMMARY4"),V=vt({includeContactAfterExtensions:o}),Ve=!!l.value,{Tips:q,Rewards:de,CashRedemption:Pe,SubscriptionPolicy:Z,Captcha:ee,MarketingDisclosure:J,BillingSection:Ce,PurchaseOptionsAgreement:$,MobileOrderSummary:be,CheckoutAsGuest:ke}=z();return e(S,{children:e(_e,{min:"medium",accessibilityLabel:c("payment.title","Payment"),hideDivider:!0,children:[!d.payment&&e(ge,{section:"payment",children:e(Y,{section:"payment",children:e(_e,{max:"medium",accessibilityLabel:c("payment.title","Payment"),children:e(rt,{})})})}),!d.payment&&e(Pe,{}),E&&e(Se,{accessibilityLabel:c("localized_fields.additional_information.title","Additional information"),children:e(u,{padding:v?"none":["large400","none","none","none"],children:[e(se,{level:2,children:c("localized_fields.additional_information.title","Additional information")}),D.map((N,K)=>{const Me=`${N.value.key}${K}`;return e(Ks,{localizationExtension:N,index:K},Me)})]})}),t&&a&&e(i,{children:e(J,{})}),!C&&oe&&e(H,{display:M,children:e(L,{sectionId:"tips",children:e(q,{renderInSection:v})})}),v&&V.length?e(je,{extensions:V}):null,e(ge,{section:"summary",children:e(Y,{section:"summary",children:e("div",{ref:W,children:[e(_e,{max:"medium",hideDivider:!0,children:[e(be,{}),e(u,{spacing:"large400",children:[e(u,{spacing:"base",children:[T&&A&&e(u,{spacing:"none",children:[e(_,{spacing:"base"}),e(Ns,{})]}),e(xe,{renderAsVaulted:!0,showMarketingDisclosure:T,showSmsMarketingOptIn:s,children:e(Ce,{})}),!C&&oe&&e(H,{display:j,children:e(L,{sectionId:"tips",children:e(q,{})})}),!v&&V.length?e(je,{extensions:V}):null,Ve&&e(u,{padding:v?"none":["large400","none","none","none"],children:e(Fs,{textProps:{appearance:"subdued",size:"small"}})})]}),e(u,{spacing:"large200",children:[P&&e($,{}),p&&e(ee,{}),e(Xs,{}),ce&&e(Z,{policy:le}),v&&e(k,{extensions:Te,spacing:"large200"})]})]}),e(de,{}),!re&&e(S,{children:[e(_,{spacing:"large100"}),e(H,{inlineAlignment:"center",children:e(ke,{})}),e(H,{display:w,children:e(_,{spacing:"base"})})]})]}),re&&e(S,{children:[e(_,{spacing:"large100"}),e(H,{inlineAlignment:"center",children:e(ke,{})}),e(_,{spacing:"base"})]})]})})})]})})}function xe({showMarketingDisclosure:n,showSmsMarketingOptIn:t,afterContactExtensions:a,renderAsVaulted:i,children:s}){const{MarketingDisclosure:o}=z();return!n&&!t&&!a?s:e(Re,{target:"cart.buyerIdentity",children:e(pe,{condition:!i,children:e(u,{spacing:i?"base":void 0,padding:i?["base","none","none","none"]:void 0,children:[(n||t)&&e(u,{spacing:n&&t?"base":"none",children:[n&&e(o,{}),t&&e($e,{})]}),a&&e(k,{extensions:a}),s]})})})}function je({extensions:n}){return e(Se,{hideDivider:"always",children:e(k,{spacing:"base",extensions:n})})}export{ze as OnePageContent,xe as PartialVaultedMarketingConsentMarkup,je as VaultedExtensionsSection,It as default};
